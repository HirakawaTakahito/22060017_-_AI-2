# 🏋️ トレーニングノートアプリ

## 📌 アプリ概要
本アプリは、ユーザーが日々のトレーニング記録（種目・重量・レップ数）を入力し、総負荷量（重量 × レップ数の合計）を計算・保存します。  
過去記録をユーザーごと・種目別にグラフ化し、推移を確認できます。

- **入力項目**  
  - ユーザー名（履歴または新規）
  - 日付
  - 種目（履歴または新規）
  - セット（重量・レップ数）

- **出力**  
  - 保存時に総負荷量を表示
  - 過去記録一覧（テーブル表示）
  - ユーザーごとの種目別総負荷量推移（棒グラフ）

---

## 🛠 使用技術
- **バックエンド**: FastAPI
- **フロントエンド**: Streamlit
- **データ保存**: JSONファイル（`data.json`, `history.json`）
- **可視化**: pandas, Streamlit Chart API

---

## 🔌 API仕様

### `POST /add_record`
トレーニング記録を追加し、総負荷量を返す。

**リクエスト例**
```json
{
  "username": "Sumire",
  "date": "2025-08-12",
  "exercise": "Bench Press",
  "sets": [
    {"weight": 70, "reps": 10},
    {"weight": 70, "reps": 5}
  ]
}
## 📝 システム概要

### 🖥 システム設計図

以下に本システムの構成イメージを示します。



- **ユーザー（ブラウザ）**: ユーザーインターフェースを操作するクライアント側。
- **Streamlit（UI処理）**: ユーザーからの入力を受け付け、表示を行うフロントエンド部分。
- **FastAPI（データ処理＋JSON保存）**: データの保存、計算処理を行うバックエンド部分。
- **保存先**: 記録データは `records.json` または `data.json` と `history.json` に分割して保存されます。

---

### 📜 コード説明図

主要なコードの役割と処理フローを以下に示します。



#### `main.py`（FastAPI）

FastAPIアプリケーションとして、以下のエンドポイントを提供します。

- `/add_record`: 新しい記録を保存し、総負荷量を計算します。
- `/get_records`: すべての記録データを取得します。
- `/get_history`: 入力履歴データを取得します。

#### `app.py`（Streamlit）

Streamlitアプリケーションとして、以下の機能を提供します。

- **UI入力フォーム**: ユーザーがデータを入力するためのフォーム。
- **セット追加機能**: 複数のトレーニングセットを追加できる機能。
- **保存ボタン**: 入力されたデータをFastAPI経由で保存するためのボタン。
- **過去記録表示**: 保存された記録を「ユーザー」→「種目」→「グラフ」の順で表示する機能。
